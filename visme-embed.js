if(typeof visme>"u"){var visme={constants:{FPS60:16,DELAY_BEFORE_CHECKING_REPLACING_VISME_DIVS_TO_IFRAMES_MS:1e3,DELAY_BEFORE_UPDATING_REPLACED_IFRAME_SIZE_MS:0,DEBOUNCED_UPDATING_RESPONSEIVE_SIZE_DELAY_MS:300,TOP_LEVEL_UPDATE_DIMENSIONS_MESSAGE_TYPE:"@visme::TOP_LEVEL_UPDATE_DIMENSIONS"},data:[],isChangedOrientation:!1,isInited:!1,isInitOnReadyFired:!1,initOnReady(){visme.isInitOnReadyFired||visme.onInit(window,visme.init)},onInit(t,e){var a=t.document&&(t.document.readyState==="complete"||t.document.readyState==="interactive");if(a){e();return}if(visme.addEvent(t,"load",e),!!t.document){visme.addEvent(t.document,"DOMContentLoaded",e);var n=function(){t.document.readyState==="complete"&&(e(),visme.passDimensions())};visme.addEvent(t.document,"readystatechange",n)}},init(){visme.isInited||(visme.isInited=!0,visme.setupVisme(),visme.addEvent(window,"orientationchange",visme.onOrientationChangeHandler),visme.addEvent(window,"resize",visme.debouncedUpdateResponsiveSize),visme.addEvent(window,"message",visme.onMessageHandler,!1),visme.addEvent(window,"scroll",visme.passDimensions),visme.addEvent(window,"resize",visme.debouncedPassDimensions),visme.addEvent(window,"orientationchange",visme.debouncedPassDimensions))},setupVisme(){for(var t=document.getElementsByClassName("visme_d"),e=[],a=0;a<t.length;a++){var n=t[a],r=visme.getComputedSizeStyle(n,"width"),o=!!n.getAttribute("data-form-id");r!==0&&!o&&e.push({vismeDiv:n,width:r})}for(var i=visme.data.length,d=0;d<e.length;d++){var l=e[d];visme.setUpVismeEl(l.vismeDiv,d+i,l.width)}setTimeout(visme.setupVisme,visme.constants.DELAY_BEFORE_CHECKING_REPLACING_VISME_DIVS_TO_IFRAMES_MS)},setUpVismeEl(t,e,a){var n=document.createElement("IFRAME"),r=visme.getOrigin(t),o=t.getAttribute("data-prefix")||"",i=t.getAttribute("data-forms")==="true",d=t.getAttribute("data-iframe-style")||"";n.style.cssText=d;var l="/_embed/"+t.getAttribute("data-url")+"?responsive=1";i&&(l="/formsPlayer/_embed/"+t.getAttribute("data-url"),n.setAttribute("webkitallowfullscreen",!0),n.setAttribute("mozallowfullscreen",!0),n.setAttribute("allowFullScreen",!0)),n.setAttribute("src",r+o+l),n.setAttribute("title",t.getAttribute("data-title")),n.style.border="none",n.className="visme",n.dataset.projectid=t.getAttribute("data-url"),visme.data[e]||(visme.data[e]={}),visme.data[e].isFullHeight=t.getAttribute("data-full-h")==="true",visme.data[e].height=visme.data[e].isFullHeight?"100":t.getAttribute("data-h"),visme.data[e].width=t.getAttribute("data-w"),n.setAttribute("width",a),navigator.platform.match(/iPhone|iPod|iPad/)&&n.setAttribute("scrolling","no"),n.style.width=a+"px",visme.data[e].height&&visme.data[e].width&&!visme.data[e].isFullHeight&&n.setAttribute("height",visme.data[e].height*(parseInt(a)/visme.data[e].width)),n.setAttribute("allowfullscreen",!0),n.setAttribute("webkitallowfullscreen",!0),n.setAttribute("mozallowfullscreen",!0),t.parentNode.replaceChild(n,t),visme.onInit(n.contentWindow,function(){setTimeout(visme.updateResponsiveSizeEl,visme.constants.DELAY_BEFORE_UPDATING_REPLACED_IFRAME_SIZE_MS,n,e)}),visme.addEvent(visme.getScrollParent(n),"scroll",visme.passDimensions)},updateResponsiveSize(){for(var t=document.getElementsByClassName("visme"),e=0;e<t.length;e++)visme.updateResponsiveSizeEl(t[e],e);visme.isChangedOrientation=!1},updateResponsiveSizeEl(t,e){if(visme.data[e]){t.style.overflow="hidden";var a=visme.data[e].width,n=visme.data[e].height,r=visme.data[e].isFullHeight,o=visme.getComputedSizeStyle(t,"width"),i=visme.getComputedSizeStyle(t,"padding-left"),d=visme.getComputedSizeStyle(t,"padding-right"),l=o-i-d;l<=0&&(l=o);var s=l/a;if(t.width=l,t.style.width=l+"px",n&&!r?t.height=parseInt(n*s):t.style.height=n+"vh",visme.isChangedOrientation){var u=t.getAttribute("src");t.setAttribute("src",""),t.setAttribute("src",u),visme.isChangedOrientation=!1}}},getOrigin(t){var e=t.getAttribute("data-domain")||"my",a=e==="visme4",n=window.location.origin==="file://",r="https://";return n&&(r=a?"http://":"https://"),r+e+(a?"":".visme.co")},addEvent(t,e,a){t.addEventListener?t.addEventListener(e,a,!1):t.attachEvent?(t["e"+e+a]=a,t[e+a]=function(){t["e"+e+a](window.event)},t.attachEvent("on"+e,t[e+a])):t["on"+e]=t["e"+e+a]},debounce(t,e){var a;return function(){var n=this,r=arguments;clearTimeout(a),a=setTimeout(function(){a=null,t.apply(n,r)},e)}},getParent(t,e){for(var a=t;e--;)if(a&&a.parentNode)a=a.parentNode;else{a=null;break}return a},getComputedSizeStyle(t,e){for(var a=2,n=0,r=1;r<=a&&(isNaN(n)||n===0||n==="auto");r++){var o=visme.getParent(t,r);if(o===null){n=0;break}for(var i=[function(){return Number(window.getComputedStyle(o,null).getPropertyValue(e).replace("px",""))},function(){return Number(o.style[e].replace("px",""))},function(){return Number(o.currentStyle[e].replace("px",""))}],d=0;d<i.length&&(isNaN(n)||n===0);d++)try{n=i[d]()}catch{n=0}}return n},passDimensions(){var t="",e=document.querySelectorAll("iframe.visme"),a=document.querySelector("#embedded-project-iframe");if(e.length!==0)for(var n=0;n<e.length;n++)t=visme.createPassDimensionsMessage(e[n]),e[n].contentWindow.postMessage(t,"*");a&&(t=visme.createPassDimensionsMessage(a),a.contentWindow.postMessage(t,"*"))},createPassDimensionsMessage(t){var e={window:{pageYOffset:window.pageYOffset},document:{body:{scrollTop:0,scrollHeight:0,offsetHeight:0},documentElement:{scrollHeight:0,offsetHeight:0,scrollTop:0,clientWidth:0,clientHeight:0}},iframe:{offsetTop:0,offsetHeight:0},scrollParent:{scrollTop:0,scrollHeight:0}};document.body&&(e.document.body.scrollTop=document.body.scrollTop,e.document.body.scrollHeight=document.body.scrollHeight,e.document.body.offsetHeight=document.body.offsetHeight),document.documentElement&&(e.document.documentElement.scrollHeight=document.documentElement.scrollHeight,e.document.documentElement.offsetHeight=document.documentElement.offsetHeight,e.document.documentElement.scrollTop=document.documentElement.scrollTop,e.document.documentElement.clientWidth=document.documentElement.clientWidth,e.document.documentElement.clientHeight=document.documentElement.clientHeight);var a=visme.getScrollParent(t);return a!==window&&(e.scrollParent.scrollTop=a.scrollTop,e.scrollParent.scrollHeight=a.scrollHeight),e.iframe.offsetTop=t.offsetTop,e.iframe.offsetHeight=t.offsetHeight,JSON.stringify({type:visme.constants.TOP_LEVEL_UPDATE_DIMENSIONS_MESSAGE_TYPE,payload:e})},getScrollParent(t){var e=t&&t.nodeType===Node.ELEMENT_NODE,a=e&&window.getComputedStyle(t).overflowY,n=(a==="scroll"||a==="auto")&&t.scrollHeight>t.clientHeight;if(t){if(n&&t.scrollHeight>=t.clientHeight)return t}else return null;return visme.getScrollParent(t.parentNode)||window},getIframeElementFromEventWithProjectId(t){var e=t.message?"message":"data",a=t[e],n=document.getElementsByClassName("visme"),r;for(r=0;r<n.length;r++){var o=n[r].dataset.projectid.toString()===a.projectid.toString();if(o||n[r].contentWindow===t.source)return n[r]}return document.getElementById("embedded-project-iframe")},onMessageHandler(t){if(t.origin.indexOf("visme")!==-1){var e=t.message?"message":"data",a=t[e],n;if(a.event==="title"&&(n=visme.getIframeElementFromEventWithProjectId(t),n&&(n.title=a.title)),a.event==="hyperlink"&&a.target==="same_window"&&(window.location=a.args),a.event==="scrollto"){if(n=visme.getIframeElementFromEventWithProjectId(t),!n)return;var r=visme.getScrollParent(n),o=0;r!==window&&(o=r.getBoundingClientRect().top+window.scrollY);var i=n.getBoundingClientRect().top+window.scrollY,d=a.top+i-o;r.scrollTo({top:d,behavior:"smooth"})}}},onOrientationChangeHandler(){visme.isChangedOrientation=!0,visme.debouncedUpdateResponsiveSize()}};visme.debouncedUpdateResponsiveSize=visme.debounce(visme.updateResponsiveSize,visme.constants.DEBOUNCED_UPDATING_RESPONSEIVE_SIZE_DELAY_MS),visme.debouncedPassDimensions=visme.debounce(visme.passDimensions,visme.constants.FPS60),visme.initOnReady()}

//# sourceMappingURL=visme-embed.js.map